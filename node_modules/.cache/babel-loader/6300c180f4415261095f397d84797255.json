{"remainingRequest":"H:\\graduations\\booksalon\\node_modules\\babel-loader\\lib\\index.js!H:\\graduations\\booksalon\\node_modules\\eslint-loader\\index.js??ref--14-0!H:\\graduations\\booksalon\\src\\request.js","dependencies":[{"path":"H:\\graduations\\booksalon\\src\\request.js","mtime":1648377426562},{"path":"H:\\graduations\\booksalon\\babel.config.js","mtime":1648030698105},{"path":"H:\\graduations\\booksalon\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1648030651680},{"path":"H:\\graduations\\booksalon\\node_modules\\babel-loader\\lib\\index.js","mtime":1648030692076},{"path":"H:\\graduations\\booksalon\\node_modules\\eslint-loader\\index.js","mtime":1648030652325}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF90eXBlb2YgPSByZXF1aXJlKCJIOi9ncmFkdWF0aW9ucy9ib29rc2Fsb24vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mLmpzIikuZGVmYXVsdDsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIik7CgpmdW5jdGlvbiBodHRwUmVxdWVzdChfc2VsZiwgY29uZmlnLCBjYWxsYmFjaywgX2NvbXBsZXRlKSB7CiAgaWYgKGNvbmZpZy5tZXRob2QgPT09ICdnZXQnICYmIGNvbmZpZy5kYXRhKSB7CiAgICB2YXIgdXJsID0gY29uZmlnLnVybCArICc/JzsKCiAgICBmb3IgKHZhciBfaSA9IDAsIF9PYmplY3Qka2V5cyA9IE9iamVjdC5rZXlzKGNvbmZpZy5kYXRhKTsgX2kgPCBfT2JqZWN0JGtleXMubGVuZ3RoOyBfaSsrKSB7CiAgICAgIHZhciBwcm9wTmFtZSA9IF9PYmplY3Qka2V5c1tfaV07CiAgICAgIHZhciB2YWx1ZSA9IGNvbmZpZy5kYXRhW3Byb3BOYW1lXTsKICAgICAgdmFyIHBhcnQgPSBlbmNvZGVVUklDb21wb25lbnQocHJvcE5hbWUpICsgIj0iOwoKICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICBpZiAoX3R5cGVvZih2YWx1ZSkgPT09ICdvYmplY3QnKSB7CiAgICAgICAgICBmb3IgKHZhciBfaTIgPSAwLCBfT2JqZWN0JGtleXMyID0gT2JqZWN0LmtleXModmFsdWUpOyBfaTIgPCBfT2JqZWN0JGtleXMyLmxlbmd0aDsgX2kyKyspIHsKICAgICAgICAgICAgdmFyIGtleSA9IF9PYmplY3Qka2V5czJbX2kyXTsKICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHByb3BOYW1lICsgJ1snICsga2V5ICsgJ10nOwogICAgICAgICAgICB2YXIgc3ViUGFydCA9IGVuY29kZVVSSUNvbXBvbmVudChwYXJhbXMpICsgIj0iOwogICAgICAgICAgICB1cmwgKz0gc3ViUGFydCArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZVtrZXldKSArICImIjsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdXJsICs9IHBhcnQgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpICsgIiYiOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHVybCA9IHVybC5zbGljZSgwLCAtMSk7CiAgICBjb25maWcuZGF0YSA9IHt9OwogICAgY29uZmlnLnVybCA9IHVybDsKICB9CgogIHZhciBhc3luYyA9IHRydWU7CgogIGlmICh0eXBlb2YgY29uZmlnLmFzeW5jID09PSAiYm9vbGVhbiIpIHsKICAgIGFzeW5jID0gY29uZmlnLmFzeW5jOwogIH0KCiAgdGhpcy4kYWpheCh7CiAgICB1cmw6IGNvbmZpZy51cmwsCiAgICB0eXBlOiBjb25maWcudHlwZSwKICAgIGRhdGE6IGNvbmZpZy5kYXRhLAogICAgZGF0YVR5cGU6ICJqc29uIiwKICAgIGFzeW5jOiBhc3luYywKICAgIGNvbnRlbnRUeXBlOiAiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCIsCiAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKHJlcykgewogICAgICAvLyDmnKrorr7nva7nirbmgIHnoIHliJnpu5jorqTmiJDlip/nirbmgIEKICAgICAgdmFyIGNvZGUgPSByZXMuY29kZSB8fCAyMDA7IC8vIOiOt+WPlumUmeivr+S/oeaBrwoKICAgICAgdmFyIG1zZyA9IHJlcy5tc2cgfHwgJ+aTjeS9nOWksei0pSc7CgogICAgICBpZiAoY29kZSA9PT0gNTAwKSB7CiAgICAgICAgX3NlbGYuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgIG1lc3NhZ2U6ICLmk43kvZzlpLHotKUiCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAoY29kZSAhPT0gMjAwKSB7CiAgICAgICAgX3NlbGYuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgIG1lc3NhZ2U6IG1zZwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICBjYWxsYmFjayhyZXMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiY2FsbGJhY2sgPT0gdW5kZWZpbmVkIik7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKHJlcykgewogICAgICAvLyBjb25zb2xlLmxvZyh0eXBlb2YgX3NlbGYuJG1lc3NhZ2UpCiAgICAgIHZhciBtc2cgPSAi57O757uf5byC5bi477yM6K+36IGU57O7566h55CG5ZGYIjsKCiAgICAgIGlmIChyZXMuc3RhdHVzID09PSA0MDQpIHsKICAgICAgICBtc2cgPSAiSFRUUCBTdGF0dXMgNDA0IOKAkyBOb3QgRm91bmQiOwogICAgICB9CgogICAgICBfc2VsZi4kbWVzc2FnZSh7CiAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICBtZXNzYWdlOiBtc2cKICAgICAgfSk7CiAgICB9LAogICAgY29tcGxldGU6IGZ1bmN0aW9uIGNvbXBsZXRlKCkgewogICAgICBpZiAodHlwZW9mIF9jb21wbGV0ZSAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICBfY29tcGxldGUoKTsKICAgICAgfQogICAgfQogIH0pOwp9"},{"version":3,"sources":["H:/graduations/booksalon/src/request.js"],"names":["httpRequest","_self","config","callback","complete","method","data","url","Object","keys","propName","value","part","encodeURIComponent","key","params","subPart","slice","async","$ajax","type","dataType","contentType","success","res","code","msg","$message","message","console","log","error","status"],"mappings":"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","sourcesContent":["\r\nfunction httpRequest(_self, config, callback, complete) {\r\n    if(config.method === 'get' && config.data) {\r\n        let url = config.url + '?';\r\n        for(const propName of Object.keys(config.data)) {\r\n            const value = config.data[propName];\r\n            let part = encodeURIComponent(propName) + \"=\";\r\n            if(value !== null && typeof (value) !== \"undefined\") {\r\n                if(typeof value === 'object') {\r\n                    for(const key of Object.keys(value)) {\r\n                        let params = propName + '[' + key + ']';\r\n                        let subPart = encodeURIComponent(params) + \"=\";\r\n                        url += subPart + encodeURIComponent(value[key]) + \"&\";\r\n                    }\r\n                } else {\r\n                    url += part + encodeURIComponent(value) + \"&\";\r\n                }\r\n            }\r\n        }\r\n        url = url.slice(0, -1);\r\n        config.data = {};\r\n        config.url = url;\r\n    }\r\n    let async = true;\r\n    if(typeof (config.async) === \"boolean\" ){\r\n        async = config.async;\r\n    }\r\n    this.$ajax({\r\n        url: config.url,\r\n        type: config.type,\r\n        data: config.data,\r\n        dataType: \"json\",\r\n        async: async,\r\n        contentType: \"application/json; charset=utf-8\",\r\n        success: function (res) {\r\n            // 未设置状态码则默认成功状态\r\n            const code = res.code || 200;\r\n            // 获取错误信息\r\n            const msg = res.msg || '操作失败'\r\n            if (code === 500) {\r\n                _self.$message({\r\n                    type: 'error',\r\n                    message: \"操作失败\"\r\n                });\r\n            } else if (code !== 200) {\r\n                _self.$message({\r\n                    type: 'error',\r\n                    message: msg\r\n                });\r\n            } else {\r\n                if(typeof (callback) !== \"undefined\"){\r\n                    callback(res)\r\n                } else {\r\n                    console.log(\"callback == undefined\")\r\n                }\r\n            }\r\n        },\r\n        error: function (res) {\r\n            // console.log(typeof _self.$message)\r\n            let msg = \"系统异常，请联系管理员\";\r\n            if(res.status === 404){\r\n                msg = \"HTTP Status 404 – Not Found\";\r\n            }\r\n            _self.$message({\r\n                type: 'error',\r\n                message: msg\r\n            });\r\n        },\r\n        complete:function(){\r\n            if(typeof (complete) !== \"undefined\"){\r\n                complete();\r\n            }\r\n        }\r\n    })\r\n\r\n}"]}]}